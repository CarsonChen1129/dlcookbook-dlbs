{
    "parameters": {
        "tensorrt.launcher": "${DLBS_ROOT}/scripts/launchers/tensorrt.sh",
        "tensorrt.env": [
            "CUDA_VISIBLE_DEVICES=${exp.gpus}"
        ],
        "tensorrt.def_file": "${exp.id}.model.prototxt",
        "tensorrt.precision": "fp32",
        "tensorrt.docker.image": "hpe/tensorrt:gpu",
        "tensorrt.docker.args": [
            "-i",
            "--security-opt seccomp=unconfined",
            "--volume=${DLBS_ROOT}/models/${exp.model}:/workspace/model",
            "$('--volume=${CUDA_CACHE_PATH}:/workspace/cuda_cache' if '${CUDA_CACHE_PATH}' else '')$",
            "$('--volume=${resource_monitor.pid_file_folder}:/workspace/tmp' if '${resource_monitor.enabled}' == 'true' else '')$",
            "${tensorrt.docker.image}"
        ]
    },
    "extensions": [
        {
            "condition":{ "exp.framework": "tensorrt" },
            "parameters": { 
                "exp.disabled": "$('true' if ('${exp.phase}'=='training') or ('${exp.device}'=='cpu') or (${exp.num_gpus}>1) or ('${exp.env}'=='host') else 'false')$" 
            }
        }
    ]
}
